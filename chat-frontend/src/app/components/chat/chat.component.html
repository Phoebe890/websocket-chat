<div class="chat-glass">
  <div class="chat-header">
    <div class="header-text">
      <h2>Gemini AI</h2>
      <div class="subtitle">Your smart assistant</div>
    </div>
  </div>

  <ul #messageArea class="chat-messages">
    <li *ngFor="let msg of messages" [ngClass]="{'user-row': msg.sender === 'User', 'ai-row': msg.sender !== 'User'}" class="message-row">
      <div class="bubble" [ngClass]="{'user-bubble': msg.sender === 'User', 'ai-bubble': msg.sender !== 'User'}">
        <span class="sender user-label" *ngIf="msg.sender === 'User'">You</span>
        <span class="bubble-content">{{ msg.content }}</span>
      </div>
    </li>
    <li *ngIf="isWaitingForAI" class="message-row ai-row">
      <div class="bubble ai-bubble typing-anim">
        <span class="bubble-content">
          <span class="typing-dots">
            <span></span><span></span><span></span>
          </span>
          <span class="typing-label">Gemini is typing...</span>
        </span>
      </div>
    </li>
  </ul>

  <form class="chat-input-bar" (ngSubmit)="sendMessage()">
    <input 
      [(ngModel)]="messageContent" 
      name="messageContent" 
      placeholder="Type your message..." 
      autocomplete="off"
      (keyup.enter)="sendMessage()"
    />
    <button type="submit" [disabled]="isWaitingForAI || !messageContent.trim()" aria-label="Send">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 20L21 12L3 4V10L17 12L3 14V20Z" fill="currentColor"/>
      </svg>
    </button>
  </form>
</div>